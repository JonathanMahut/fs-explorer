<div class="nav">
  <div class="p-grid">
    <div class="p-col-12 p-md-3 p-lg-3">
     <button (click)="back()" style="background-color: #484e53; border: 1px solid #ffffff;" pButton type="button" label="Previous" ></button>
    </div>
    <div class="p-col-12 p-md-9 p-lg-9">
      <div class="path">{{ currentPath }}</div>
    </div>
  </div>
  <div class="p-grid center">
    <div class="p-col">
      <div>Change view</div>
      <span class="pointer" *ngIf="details" (click)="changeView()"><i class="pi pi-table"></i></span>
      <span class="pointer" *ngIf="!details" (click)="changeView()"><i class="pi pi-list"></i></span>
    </div>
    <div class="p-col">
      <div>Sort by name</div>
      <p-inputSwitch (onChange)="setSearch()" [(ngModel)]="sortByName"></p-inputSwitch>
    </div>
    <div class="p-col">
      <div>Sort by size</div>
      <p-inputSwitch (onChange)="setSearch()" [(ngModel)]="sortBySize"></p-inputSwitch>
    </div>
    <div class="p-col">
      <div>Sort by created date</div>
      <p-inputSwitch (onChange)="setSearch()" [(ngModel)]="sortByCreated"></p-inputSwitch>
    </div>
  </div>
</div>

<div class="container">
  <div class="p-grid">
    <div class="p-col p-col-align-center">
      <span class="ui-float-label">
        <input (keyup)="setSearch()" [(ngModel)]="searchByChar" id="float-input" type="text" size="30" pInputText>
        <label for="float-input">Search by name</label>
      </span>
    </div>
  </div>
</div>

<!-- Element view -->
<div *ngIf="files && !details" class="p-grid p-align-center center">
  <div *ngFor="let file of files" class="p-col-6 p-md-3 p-lg-3 p-col-align-center">
    <div class="file pointer">
      <i pTooltip="{{ file.created }}" *ngIf="file.type == 'file'" class="pi pi-file-o"></i>
      <i pTooltip="{{ file.created }}" *ngIf="file.type == 'directory'" (click)="changeDir(file.name)" class="pi pi-folder"></i><br>
      {{ file.name }}
    </div>
  </div>
</div>

<!-- List with details View -->
<div *ngIf="files && details" class="p-grid p-align-center center">
  <div class="p-col-12 p-col-align-center">
    <p-table [value]="files">
      <ng-template pTemplate="header">
          <tr>
              <th>name</th>
              <th>type</th>
              <th>size</th>
              <th>created</th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-file>
          <tr (click)="file.type == 'directory' ? changeDir(file.name) : ''" class="pointer">
              <td>{{file.name}}</td>
              <td>{{file.type}}</td>
              <td>{{file.size}}</td>
              <td>{{file.created | date:'short'}}</td>
          </tr>
      </ng-template>
  </p-table>
  </div>
</div>

<div class="center" *ngIf="files.length == 0">
  <h2>No files/folders found</h2>
</div>